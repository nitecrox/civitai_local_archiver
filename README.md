## UI images below!

Ever since the announcement of censorship on Civitai, I've been feeling kinda uneasy. Loras can just be deleted with no warning. Creators can get banned along with along with all their content. And sometimes creator just decides to quit and they delete all their work (as it was the case with Shufflebox).
This is a great issue, especially when you are left with a LoRA without any info about it. No keywords, no example images, nothing. It's basically useless at that point.

This is an app for downloading the data for all of your models from CivitAI (.safetensors files only). It is a fully local app using html, css, javascript and electron. Also, worth mentioning, since I am not that skilled with web development and I didn't have time to learn it all to this level, it is (almost) entirely coded by AI (primarily Claude 4 Sonnet). 
That's why you'll see all the comments and somewhat messy code.

What does it do? You can import all your .safetensors files either separately, or by adding a directory which would then be scanned. For every found .safetensors file, a .json file with all of it's info will be generated in "metadata" folder. It is important you don't delete it, this is essentially the whole purpose of the app, everything else is extra fluff for better viewing of that info. Even if you do delete it though, it will get regenerated by clicking on "Refresh Cache" button. All the info is also cached in one MASSIVE .json file which is basically the cache. I needed cache for faster loading, even though this isn't the ideal option, but it was the simplest to implement (500,000 lines in one file go brrrr). Also the description info is basically html code yoinked directly from Civitai, so all the colored text, images etc, can be view as it is on CivitAI. In rare cases it might go out of bounds, if the description contains something weird, but it will just look visually awkward, it doesn't affect functionality.

All of the example images for every model are also downloaded, along with their generation info. They are converted into .webp format to save disk space (they aren't downsized, their resolution stays the same) When trying it out, I highly suggest you import just a handful of models to see that it actually works. 
It might be glitchy while downloading .json files and images. If you think it's frozen, just open task manager and check if it's downloading stuff (usually either generating .json files for models, or downloading images). In fact, since you will use .bat script to start the app, you can check what it's doing in the command prompt which will open.
I added multithreading to image downloading so it doesn't take as long, although it can still take a while, depending on how many models you imported. Just be patient and let it finish. You will know it's done when it isn't downloading anything. 
The info about resources used when downloading images is also downloaded and cached in model_hash_info.json: hash - model name - weight - modelId (used to link to the Civitai page of the resource). It is a bit buggy and doesn't always display properly.
Also, the app can't generate info about models which are removed from Civitai, they will be displayed at the end of the model gallery if they are imported, but they won't have any info about them.

**After importing, if you don't see the newly imported models (which is highly likely), click on "Refresh Cache"!**

I tried it out with ~1100 models imported and the performance was acceptable. I also tested the file size for all of the downloaded data/images, with 900 models loaded. Metadata about models takes less than 100MB (in all .json files combined). All the images (6200 of them, all in .webp format) take around 1.25GB.


### **IMPORTANT: Videos aren't supported.** 
I didn't want to bother with dealing with video download, so if they are among the example images on Civitai, they just won't be downloaded. 

I don't plan to add updates, although if I make significant changes locally or fix some big bugs I find by using the app (there probably are some, but they shouldn't be app-breaking), I might add a new version. 
Because I am fully using AI for this, you know how it goes, fix 1 bug add 2 new ones. Or it adds a new feature and removes an old one. It's kinda like whack-a-mole at times with these bugs. That's why it's a bit frustrating to work with it sometimes. 

**Note that this is made mainly for my personal use**, but it turned out too good for me not to share it. That's why I won't actively support it and you can more or less consider this version final. If there is an update I will let you all know, but don't expect it.

Here's the link to the github page with all the code and the app. Feel free to edit it however you like. It was fully written by AI so that's why it is like it is.

It would be awesome if you have lots of experience with web develpment and you can refactor the code. Currently there is one big script.js file with 3000+ lines of code, which contains basically all of the functionality of the main page (caching, filtering, sorting, search, pagination, importing models, ...). 
It's getting hard for me to add new features using only AI because it doesn't really work well with such big files. And it's hard for it to refactor it into smaller scripts because there is so much of it and it's so tightly knit together.
If you have the free time to clean up the code and maybe improve perfomance and caching, maybe even find and fix some new bugs, I would be really grateful.

Anyways, with this tool, I hope you can rest a bit more easy now! Enjoy! :)

# HOW TO USE

I wanted to make a .exe file to simplify the process for users, however I just couldn't get it to work. Therefore, I created a **start-civarchive.bat** file which is used to start the app.

However, before starting you must install:

python:  https://www.python.org/downloads/

- I use python to run the script which actually downloads the metadata for models. Here's the source: (https://www.reddit.com/r/StableDiffusion/comments/1kde3ug/download_your_checkpoint_lora_civitai_metadata/ , https://gist.github.com/RupertAvery/2313682fecb430268cd0810f73a71556)

node.js: https://nodejs.org/en/download (I tested with version v22.16.0 (LTS))

Download the repository as .zip file and extract it.

Next, open the command prompt in the app directory, the one with start-civarchive.bat, and run these commands:

```npm install electron```

```npm install```

```npm audit fix```

After that you can run the .bat file.

![Screenshot 2025-06-05 134610](https://github.com/user-attachments/assets/ac9a0fbb-3b6e-46e5-a1ae-47bad4c07098)
![Screenshot 2025-06-05 134630](https://github.com/user-attachments/assets/349faff5-0403-424f-9b2c-63bba7c43a5a)
![Screenshot 2025-06-05 134659](https://github.com/user-attachments/assets/d97951eb-17db-41e1-8154-aca55748dd4d)

